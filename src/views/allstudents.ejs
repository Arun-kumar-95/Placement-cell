<link rel="stylesheet" href="./css/error.css">
<link rel="stylesheet" href="./css/dashboard.css">
<link rel="stylesheet" href="./css/allstudents.css">

<script defer src="../js/toggler.js" type="text/javascript"></script>
<script src="../js/notification.js" type="text/javascript" defer></script>
<script defer src="./js/Helpers.js" type="text/javascript"></script>
<script defer src="./js/searchstudent.js" type="text/javascript"></script>
<script defer src="./js/logout.js" type="text/javascript"></script>

<div class="dashboard-wrapper">
    <div class="dashboard-container">
        <div class="dashboard">

            <!-- side bar -->
            <%- include("./partials/_sidebar"); %>


                <div class="dashboard-main">
                    <!-- notification -->
                    <%- include("./partials/_notification"); %>

                        <!-- notofication pannel -->
                        <%- include("./partials/_topheader"); %>

                            <div class="page-index">
                                <div class="page-header">
                                    <h1>Dashboard</h1>
                                    <p class="page-title">Admin / <a href="javascript:void(0)">Search student</a></p>
                                </div>
                            </div>

                            <div class="search-student-container">
                                <div class="search-for-student">

                                    <form action="" class="filter__student">


                                        <div class="search-container">
                                            <div class="search-box">

                                                <div class="text-wrap">
                                                    <input type="text" placeholder="Enter student name.."
                                                        id="search-box" class="form-search search-field-box" value=""
                                                        name="searchTxt" autocomplete="off" required />
                                                    <a href="javascript:void(0)" class="clear-form">
                                                        <img src="./icons/close-icon.png" alt="clear-icon">
                                                    </a>
                                                </div>

                                                <div class="text-box">
                                                    <button type="button" name="search-button"
                                                        class="search-submit search-field-button"
                                                        id="submit-button">Search</button>
                                                </div>
                                            </div>
                                        </div>

                                    </form>

                                    <div class="students-table-container" id="student-filtre-table">
                                        <div class="student-table-wrap">

                                            <% if(data[0].length> 0){%>
                                                <div class="text-warning"> </div>

                                                <table class="student-search-table">
                                                    <thead>
                                                        <th>S.no</th>
                                                        <th>Name</th>
                                                        <th>Batch</th>
                                                        <th>Phone</th>
                                                        <th>Email</th>
                                                        <th>Status</th>
                                                        <th>College</th>
                                                        <th>Score</th>
                                                        <th>Activity</th>
                                                        <th>Update</th>
                                                        <th>Delete</th>

                                                    </thead>
                                                    <tbody>

                                                        <% data[0].forEach((item , index)=>{ %>
                                                            <tr>
                                                                <td>
                                                                    <p>
                                                                        <%= index + 1 %>
                                                                    </p>
                                                                </td>
                                                                <td style="text-transform:capitalize">
                                                                    <p>
                                                                        <%= item.name %>
                                                                    </p>
                                                                </td>
                                                                <td>
                                                                    <p>
                                                                        <%= item.batch %>
                                                                    </p>
                                                                </td>
                                                                <td>
                                                                    <p>
                                                                        <%= item.phone %>
                                                                    </p>
                                                                </td>
                                                                <td>
                                                                    <p>
                                                                        <%= item.email %>
                                                                    </p>
                                                                </td>
                                                                <td>
                                                                    <p>
                                                                        <%= item.status %>
                                                                    </p>
                                                                </td>
                                                                <td style="text-transform:capitalize">
                                                                    <p>
                                                                        <%= item.college %>
                                                                    </p>
                                                                </td>
                                                                <td>
                                                                    <% item.score.forEach((score)=>{ %>
                                                                        <li>
                                                                            DSA - <%= score.DSA %>
                                                                        </li>
                                                                        <li>
                                                                            WEB DEV - <%= score.WEB_DEV %>

                                                                        </li>
                                                                        <li>
                                                                            REACT - <%= score.REACT %>
                                                                        </li>

                                                                        <% })%>
                                                                </td>

                                                                <td>
                                                                    <form method="GET"
                                                                        action="/dashboard/profile/uid=<%= item._id %>&name=<%= item.name %>">
                                                                        <button class="btn check__activity"
                                                                            id="<%= item._id %>">
                                                                            <svg id="icon-activities"
                                                                                viewBox="0 0 256 256" width="20"
                                                                                height="20">
                                                                                <path
                                                                                    d="M128 10.3A117.7 117.7 0 1 0 245.7 128 117.7 117.7 0 0 0 128 10.3zm0 210.2a92.5 92.5 0 1 1 92.5-92.5 92.5 92.5 0 0 1-92.5 92.5z">
                                                                                </path>
                                                                                <path
                                                                                    d="M178.3 75a79.6 79.6 0 0 0-11.2 1.2q-7 1.2-10 3.7t-7 6q-4 4.2-13 17.3a290.3 290.3 0 0 0-16.3 26.3Q113 143 108 154a39.5 39.5 0 0 0-10-10q-5.4-4-10-4t-10 4q-5.7 4-5.7 9.5 0 3.7 5 9A135.2 135.2 0 0 1 90 179a69.5 69.5 0 0 0 5.3 7.7 9.6 9.6 0 0 0 2.7 1.6q1.7.8 8 .8 7.7 0 10.3-1a12 12 0 0 0 3.7-3q1.2-2 5.5-12.2a281.7 281.7 0 0 1 24.3-46.6q15.3-24 29.5-37a29.6 29.6 0 0 0 4-4.3 6 6 0 0 0 .8-3.3 5.4 5.4 0 0 0-1-4 5.7 5.7 0 0 0-4-1.6z">
                                                                                </path>
                                                                            </svg>

                                                                        </button>
                                                                    </form>
                                                                </td>



                                                                <td>
                                                                    <form method="GET"
                                                                        action="/dashboard/registerstudent/<%= item._id %>">
                                                                        <button class="btn btn-edit"
                                                                            id="<%= item._id %>">
                                                                            <svg fill="currentColor" width="20px"
                                                                                height="20px" viewBox="0 0 24 24"
                                                                                preserveAspectRatio="xMidYMid meet"
                                                                                focusable="false">
                                                                                <g>
                                                                                    <path
                                                                                        d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z">
                                                                                    </path>
                                                                                </g>
                                                                            </svg>
                                                                        </button>
                                                                    </form>
                                                                </td>
                                                                <td>
                                                                    <form action="" class="delete__student__form">
                                                                        <button class="btn btn-delete"
                                                                            id="<%= item._id %>">
                                                                            <svg fill="currentColor" width="20px"
                                                                                height="20px" viewBox="0 0 24 24"
                                                                                preserveAspectRatio="xMidYMid meet"
                                                                                focusable="false">
                                                                                <g>
                                                                                    <path
                                                                                        d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z">
                                                                                    </path>
                                                                                </g>
                                                                            </svg>
                                                                        </button>
                                                                    </form>
                                                                </td>
                                                            </tr>
                                                            <% })%>

                                                    </tbody>
                                                </table>

                                                <%} else {%>

                                                    <div class="text-warning">
                                                        <p> *No Student Found , Register a student</p>
                                                    </div>
                                                    <%}%>

                                        </div>


                                    </div>
                                </div>
                            </div>

                </div> <!-- /dashboard main -->

        </div> <!-- /dashboard -->

    </div> <!-- /dashboard container-->
</div>